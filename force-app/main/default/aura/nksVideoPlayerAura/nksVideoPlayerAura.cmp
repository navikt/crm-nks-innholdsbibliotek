<aura:component
    controller="NKS_VideoPlayerCtrl"
    implements="forceCommunity:availableForAllPageTypes,flexipage:availableForAllPageTypes,force:hasRecordId"
>
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:attribute name="recordId" type="String" />
    <aura:attribute name="context" type="String" default="Experience" />
    <aura:attribute name="videoId" type="String" />
    <aura:attribute name="videoPlayer" type="String" />
    <aura:attribute name="error" type="Boolean" default="false"></aura:attribute>
    <aura:attribute name="contentDocument" type="Object" />
    <aura:attribute name="recordError" type="String" />

    <aura:if isTrue="{!not(empty(v.recordId))}">
        <force:recordData
            aura:id="recordLoader"
            fields="Title,FileExtension"
            recordId="{!v.recordId}"
            targetFields="{!v.contentDocument}"
            targetError="{!v.recordError}"
        />
    </aura:if>

    <aura:if isTrue="{!empty(v.recordId) || v.contentDocument.FileExtension == 'mp4'}">
        <aura:if isTrue="{!v.context == 'Experience'}">
            <div style="padding-left: 10%" class="decorator-wrapper slds-p-bottom_small">
                <h1 class="navds-heading navds-heading--xlarge">{!v.contentDocument.Title}</h1>
            </div>
        </aura:if>
        <center>
            <aura:unescapedHtml value="{!v.videoPlayer}"> </aura:unescapedHtml>
        </center>
    </aura:if>
</aura:component>
